<Window x:Class="Client.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Chat Lobby" Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="3*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Lobby / Rooms Section -->
        <GroupBox Header="Lobby" Grid.Row="0" Grid.Column="0" Margin="5">
            <StackPanel Margin="10">
                <TextBox x:Name="UsernameTextBox" Text="Enter Username" Margin="0,5"/>
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <Button x:Name="LoginButn" Content="Log in" Width="80" Margin="0,0,5,0" Click="LoginButton_Click"/>
                    <Button x:Name="logOutbtn" Content="Log out" Width="80" Click="LogoutButton_Click"/>
                </StackPanel>

                <TextBox x:Name="RoomNameTextBox" Text="Room Name" Margin="0,5"/>
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <Button x:Name="CreateRoomBut" Content="Create Room" Width="100" Margin="0,0,5,0" Click="CreateRoomButton_Click"/>
                </StackPanel>

                <Label Content="Available Rooms" FontWeight="Bold"/>
                <ListBox x:Name="RoomListBox" Height="120" Margin="0,5"/>
                <StackPanel Orientation="Horizontal">
                    <Button x:Name="refreshList" Content="Refresh" Width="70" Margin="0,0,5,0" Click="refreshList_Click"/>
                    <Button x:Name="JoinRoomButton" Content="Join" Width="70" Click="JoinRoomButton_Click"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <!-- Players Section -->
        <GroupBox Header="Players in Room" Grid.Row="0" Grid.Column="1" Margin="5">
            <StackPanel Margin="10">
                <ListBox x:Name="PlayerListBox" Height="120"/>
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <Button x:Name="refreshPRoom" Content="Refresh" Width="70" Margin="0,0,5,0" Click="refreshPRoom_Click"/>
                    <Button x:Name="LeaveRoBtn" Content="Leave" Width="70" Click="LeaveRoBtn_Click"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <!-- Room Messages and Files -->
        <GroupBox Header="Room Messages &amp; Files" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Margin="5">
            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Messages -->
                <StackPanel Grid.Column="0" Margin="5">
                    <Label Content="Room Messages" FontWeight="Bold"/>
                    <ListBox x:Name="RoomMessagesListBox" Height="150" Margin="0,5"/>
                    <TextBox x:Name="RoomMessageTextBox" Text="Type a room message..." Margin="0,5"/>
                    <StackPanel Orientation="Horizontal">
                        <Button x:Name="RefreshRoomMessagesButton" Content="Refresh" Width="70" Margin="0,0,5,0" Click="RefreshRoomMessagesButton_Click"/>
                        <Button x:Name="SendRoomMessageButton" Content="Send" Width="80" Click="SendRoomMessageButton_Click"/>
                    </StackPanel>
                </StackPanel>

                <!-- Files -->
                <StackPanel Grid.Column="1" Margin="5">
                    <Label Content="Shared Files" FontWeight="Bold"/>
                    <ListBox x:Name="SharedFilesListBox" Height="150" Margin="0,5">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock>
                                    <Hyperlink NavigateUri="{Binding}" RequestNavigate="Hyperlink_RequestNavigate">
                                        <TextBlock Text="{Binding}" />
                                    </Hyperlink>
                                </TextBlock>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                    <StackPanel Orientation="Horizontal">
                        <Button x:Name="ShareFileButton" Content="Share" Width="80" Margin="0,0,5,0" Click="ShareFileButton_Click"/>
                        <Button x:Name="RefreshFilesButton" Content="Refresh" Width="80" Click="RefreshFilesButton_Click"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </GroupBox>

        <!-- Private Messages -->
        <GroupBox Header="Private Messages" Grid.Row="1" Grid.Column="2" Margin="5">
            <StackPanel Margin="10">
                <ComboBox x:Name="PrivateMessageRecipientComboBox" Margin="0,5" Width="150"/>
                <ListBox x:Name="PrivateMessagesListBox" Height="150" Margin="0,5"/>
                <TextBox x:Name="PrivateMessageTextBox" Text="Type a private message..." Margin="0,5"/>
                <StackPanel Orientation="Horizontal">
                    <Button x:Name="RefreshPrivateMessagesButton" Content="Refresh" Width="70" Margin="0,0,5,0" Click="RefreshPrivateMessagesButton_Click"/>
                    <Button x:Name="SendPrivateMessageButton" Content="Send" Width="80" Click="SendPrivateMessageButton_Click"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>
    </Grid>
</Window>
